<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Search Engine</title>

    <link type="text/css" rel="stylesheet" href="css/main.css"  media="screen,projection"/>
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    
    <link rel="stylesheet" href="css/bootstrap-tagsinput.css">
    <link type="text/css" href="css/nouislider.min.css" rel="stylesheet">

    <!--Import table.css-->
    <link href="css/jquery.dataTables.min.css" type="text/css" rel="stylesheet" media="screen,projection">

    <link type="text/css" href="css/angular-chart.css" rel="stylesheet">
  </head>   

  <body>
    
    <!-- Nav bar -->

      <div class="navbar-fixed">
        <nav>
          <div class="nav-wrapper  blue lighten-2">
            <a href="index.html" class="brand-logo">Search Engine</a>
          </div>
        </nav>
      </div>

    <!-- End nav bar -->

    <!-- HTML PAGE START HERE -->

    <div class="container">
      <div class= "row">
        <div class="row valign center">
          <div class="col s12"><p></p></div>
          <div class="col s12"><p></p></div>
          <div class="col s12"><p></p></div>
          <div class="col s12"><p><h5><font color="#616161">Search Engine</font></h5></p></div>
          <div class="col s12"><p></p></div>
          <div class="col s12"><p></p></div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col s12 m4 l12">
          <form id="searchForm">
            <div class="input-field col s12 m4 l10">
              <input class="validate grey lighten-5" placeholder="Type your search" type="text" name="to_search" id="to_search">
            </div>
          </form>
            <div class="col s12 m4 l2 valign center">
              <button class="btn-floating btn-large waves-effect waves-light btn blue lighten-2" type="submit" background="black" form="searchForm" value="Submit">
                <i class="material-icons prefix">search</i>
              </button>
            </div>
        </div>
      </div>
    </div>

    <div class="row"></div>

    <div class="container">
      <div class="row">
        <div class="row valign center">
          <div class="col s12 m4 l2"><p></p></div>
          <div class="col s12 m4 l8">
            <div class="row">
              <div class="col s6">
                <form action="#">
                  <center><font color='#616161'>Cossine Similarity</font></center><br />
                  <div class="col s6">
                    <input class="with-gap" name="group1" type="radio" id="text" checked />
                    <label for="text"><font color="#616161">Text</font></label>
                  </div>
                  <div class="col s6">
                    <input class="with-gap" name="group1" type="radio" id="anchor" />
                    <label for="anchor"><font color="#616161">Anchor</font></label>
                  </div>
                </form>
              </div>
              <div class="switch col s6">
                  <center><font color='#616161'>PageRank</font></center> <br \>
                <label>
                  <font color="#616161">Off</font>
                  <input type="checkbox" id="pagerank">
                  <span class="lever"></span>
                  <font color="#616161">On</font>
                </label>
              </div>
            </div>
          </div>
          <div class="col s12 m4 l2"><p></p></div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class= "row">
        <div class="row valign center"></div>
      </div>
    </div>

    <!-- HTML PAGE END HERE -->

    <!-- Footer starts -->
    <footer class="page-footer blue lighten-2">
      <!-- <div class="container"> -->
        <div class="row">
          <div class="col s12 m4 l4">
            <h5 class="white-text">Search Engine</h5>
            <p class="grey-text text-lighten-4">This search engine is part of an assignment from Information Retrieval course of Federal University of Minas Gerais.</p>
          </div>
          <div class="col s12 m4 l4" > <!-- style="visibility: hidden" -->
            <div class="row">
              <div class="col s4">
                <center><h5 class="white-text">Author</h5></center>
                <img class="img-circle" hspace="20px" width="100px" height="100px" src="img/about_images/marlon.jpg" />
              </div>
              <div class="col s6">
                <div style="visibility: hidden">
                <h5 class="white-text">Author</h5>
                </div>
                <p class="grey-text text-lighten-4">
                  Marlon da Silva Dias<br />
                  Master of Science Student <br />
                  <a class="grey-text text-lighten-3" href="http://www.latin.dcc.ufmg.br/wp/" target="_blank">LATIN</a><br />
                  <a class="grey-text text-lighten-3" href="http://ufmg.br" target="_blank">UFMG</a>
                </p>
              </div>
            </div>
          </div>
          <div class="col s12 m4 l4">
            <h5 class="white-text">Contact</h5>
              <p class="grey-text text-lighten-3">Marlon Dias - <a class="grey-text text-lighten-3" href="mailto:mdsdias@dcc.ufmg.br" target="_blank">msdias@dcc.ufmg.br</a></p>
              <div class="row valign left">
                <a class="grey-text text-lighten-3" href="https://br.linkedin.com/in/msdias" target="_blank">
                  <img src="img/icon/linkedin.png" alt="Logo" id="linkedin" />
                </a>    <a class="grey-text text-lighten-3" href="https://github.com/marlonsd/Web-Search" target="_blank">
                  <img src="img/icon/github-circle.png" alt="Logo" id="github" />  
                </a>
              </div>
          </div>
        </div>
      <!-- </div> -->

      <div class="footer-copyright">
        <div class="row">
          <div class="col s12 m4 l2">&copy; 2016 Copyright</div>
          <div class="col s12 m4 l8"><center>Search Engine</center></div>
          <div class="col s12 m4 l2" style="visibility: hidden">s12 m4</div>
        </div>
      </div>
    </footer>
    <!-- Footer ends -->

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/materialize.js"></script>
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-tagsinput-angular.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-tagsinput.min.js"></script>

    <script type="text/javascript">

    	var GET = {};
        var query = window.location.search.substring(1).split("&");
    
      $( document ).ready(function() {
        //$("#descricao").attr('data-error','The name field is required');

        $(".button-collapse").sideNav();

      });


	    $('searchForm').submit(function(event) {
	        event.preventDefault();

	        var string_json = '{"to_search": "'+document.getElementById('to_search').value+'"';

	        // console.log(request.response);
	     
          var cossine;
          var pagerank = false;

	        if(document.getElementById('text').checked) {
	        	// string_json += ',"cossine": "text"';
            cossine = text;
	        	console.log('text');
	        } else {
	        	// string_json += ',"cossine": "anchor"';
            cossine = anchor;
	        	console.log('anchor');
	        }

	        if(document.getElementById('pagerank').checked) {
	        	// string_json += ',"pagerank": true';
            pagerank = true;
	        	console.log('pagerank on');
	        } else {
	        	string_json += ',"pagerank": false';
	        	console.log('pagerank off');
	        }

	        string_json += '}'

          $.ajax({        
              type: "POST",
              url: "/json",
              // data: {to_search:$('#to_search').val(),cossine: anchor,pagerank: pagerank},              
              data: string_json,
              dataType: "json"  // tell jQuery not to process the data                          
            }).done(function( data ) { 
              console.log("Server's answer:");
              console.log(data);       
            });              
            return false;
          });

	        // POST to httpbin which returns the POST data as JSON
	        // var request = new XMLHttpRequest();
	        // request.open("POST", "/json", string_json);
	        // request.send(string_json);

         //  console.log("POST-content:");
         //  console.log(string_json);
          
         //  console.log("Server's answer:");
	        // console.log(request.response);

         //  request.open("GET", "/work");
         //  console.log("Server's answer:");
         //  console.log(request.response);
       });
    </script>
  </body>
</html>
